{
  "version": [
    1,
    0
  ],
  "type": "Eco.Gameplay.Civics.Laws.Law",
  "name": "Sales Tax",
  "reference": false,
  "description": "Every citizen shall pay a sales tax on every trade they do with other citizens, except if both citizens are playing in the same company.",
  "properties": {
    "Sections": [
      {
        "type": "Eco.Gameplay.Civics.Laws.LawSection",
        "reference": false,
        "properties": {
          "Title": "Sales Tax",
          "UserDescription": "The Sales Tax is 5%.\u000bThere is no sales tax inside the Government District, because else the government officials would pay it with their private money and not with government money. (so the Director of the Federal Bank would have to pay 5â‚¬ from their private money per sold LCP and so on)",
          "Triggers": [
            {
              "type": "Eco.Gameplay.Civics.Laws.TriggerSettings",
              "reference": false,
              "properties": {
                "Trigger": {
                  "type": "Type",
                  "value": "Eco.Gameplay.GameActions.CurrencyTrade"
                },
                "Configs": [
                  {
                    "type": "Eco.Gameplay.GameActions.SelectTriggerConfig",
                    "typeToConfig": "Eco.Gameplay.GameActions.CurrencyTrade",
                    "propNameBacker": "Currency",
                    "propDisplayName": "Currency",
                    "properties": {
                      "List": {
                        "type": "GamePickerList",
                        "mustDeriveType": {
                          "type": "Type",
                          "value": "Eco.Gameplay.Economy.Currency"
                        },
                        "requiredTag": null,
                        "internalDescription": "<b><link=\"ref:Currency:3\"><ecoicon item=\"CurrencySymbol\"><style=\"Government\">Euro</style></ecoicon></link></b>",
                        "entries": [
                          {
                            "type": "Eco.Gameplay.Economy.Currency",
                            "name": "Euro",
                            "reference": true
                          }
                        ]
                      }
                    }
                  },
                  {
                    "type": "Eco.Gameplay.GameActions.SelectTriggerConfig",
                    "typeToConfig": "Eco.Gameplay.GameActions.CurrencyTrade",
                    "propNameBacker": "ItemUsed",
                    "propDisplayName": "Item Traded",
                    "properties": {
                      "List": {
                        "type": "GamePickerList",
                        "mustDeriveType": {
                          "type": "Type",
                          "value": "Eco.Gameplay.Items.Item"
                        },
                        "requiredTag": "Object",
                        "internalDescription": "Any",
                        "entries": []
                      }
                    }
                  }
                ]
              }
            }
          ],
          "IfThenBlocks": [
            {
              "type": "Eco.Gameplay.Civics.IfThenBlock",
              "reference": false,
              "properties": {
                "If": {
                  "type": "Eco.Gameplay.Civics.GameValues.SetOfConditions",
                  "properties": {
                    "List": [
                      {
                        "type": "Eco.Gameplay.Civics.GameValues.Values.DistrictRequirements",
                        "properties": {
                          "Location": {
                            "type": "GameValueContext",
                            "contextName": "Action Location",
                            "titleBacking": "<ecoicon item=\"CurrencyTrade\">Action Location</ecoicon>",
                            "tooltip": "When triggered, the <ecoicon item=\"CurrencyTrade\">Action Location</ecoicon> value of the event will be used.\r\n\r\n<ecoicon item=\"CurrencyTrade\">Action Location</ecoicon>: The position where the interaction took place.\r\n"
                          },
                          "Districts": {
                            "type": "GamePickerList",
                            "mustDeriveType": {
                              "type": "Type",
                              "value": "Eco.Gameplay.LegislationSystem.District"
                            },
                            "requiredTag": null,
                            "internalDescription": "<b><link=\"ref:District:14\"><ecoicon item=\"District\"><color=#004CC6FF>Government District</color></ecoicon></link></b>",
                            "entries": [
                              {
                                "type": "Eco.Gameplay.LegislationSystem.District",
                                "name": "Government District",
                                "reference": true
                              }
                            ]
                          },
                          "Requirements": "OutsideAll"
                        }
                      }
                    ],
                    "Comparison": "All"
                  }
                },
                "Then": [
                  {
                    "type": "Eco.Gameplay.Civics.GameValues.RecordCustomStat",
                    "reference": false,
                    "properties": {
                      "StatName": "taxesOwed",
                      "Person": {
                        "type": "GameValueContext",
                        "contextName": "Seller",
                        "titleBacking": "<ecoicon item=\"User\">Seller</ecoicon>",
                        "tooltip": "When triggered, the <ecoicon item=\"User\">Seller</ecoicon> value of the event will be used.\r\n\r\n<ecoicon item=\"User\">Seller</ecoicon>: The selling player.\r\n"
                      },
                      "Count": {
                        "type": "Eco.Gameplay.Civics.GameValues.Percent_GameValue",
                        "properties": {
                          "Number": {
                            "type": "GameValueContext",
                            "contextName": "Currency Amount",
                            "titleBacking": "<ecoicon item=\"CurrencyTrade\">Currency Amount</ecoicon>",
                            "tooltip": "When triggered, the <ecoicon item=\"CurrencyTrade\">Currency Amount</ecoicon> value of the event will be used.\r\n\r\n<ecoicon item=\"CurrencyTrade\">Currency Amount</ecoicon>: Amount used in the transaction.\r\n"
                          },
                          "Percent": {
                            "type": "GameValueWrapper",
                            "value": 4.0
                          }
                        }
                      },
                      "InfoboxOnSuccess": {
                        "type": "Eco.Gameplay.Civics.GameValues.No",
                        "properties": {}
                      }
                    }
                  },
                  {
                    "type": "Eco.Gameplay.Civics.GameValues.RecordCustomStat",
                    "reference": false,
                    "properties": {
                      "StatName": "paidSalesTax",
                      "Person": {
                        "type": "GameValueContext",
                        "contextName": "Seller",
                        "titleBacking": "<ecoicon item=\"User\">Seller</ecoicon>",
                        "tooltip": "When triggered, the <ecoicon item=\"User\">Seller</ecoicon> value of the event will be used.\r\n\r\n<ecoicon item=\"User\">Seller</ecoicon>: The selling player.\r\n"
                      },
                      "Count": {
                        "type": "Eco.Gameplay.Civics.GameValues.Percent_GameValue",
                        "properties": {
                          "Number": {
                            "type": "GameValueContext",
                            "contextName": "Currency Amount",
                            "titleBacking": "<ecoicon item=\"CurrencyTrade\">Currency Amount</ecoicon>",
                            "tooltip": "When triggered, the <ecoicon item=\"CurrencyTrade\">Currency Amount</ecoicon> value of the event will be used.\r\n\r\n<ecoicon item=\"CurrencyTrade\">Currency Amount</ecoicon>: Amount used in the transaction.\r\n"
                          },
                          "Percent": {
                            "type": "GameValueWrapper",
                            "value": 4.0
                          }
                        }
                      },
                      "InfoboxOnSuccess": {
                        "type": "Eco.Gameplay.Civics.GameValues.No",
                        "properties": {}
                      }
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "type": "Eco.Gameplay.Civics.Laws.LawSection",
        "reference": false,
        "properties": {
          "Title": "Sales Tax Check",
          "UserDescription": "with the !salestax command, citizens can check how much sales tax they paid, both in total and in the last 24 hours.",
          "Triggers": [
            {
              "type": "Eco.Gameplay.Civics.Laws.TriggerSettings",
              "reference": false,
              "properties": {
                "Trigger": {
                  "type": "Type",
                  "value": "Eco.Gameplay.GameActions.ChatSent"
                },
                "Configs": [
                  {
                    "type": "Eco.Gameplay.GameActions.SelectString",
                    "typeToConfig": "Eco.Gameplay.GameActions.ChatSent",
                    "propNameBacker": "Tag",
                    "propDisplayName": "Tag",
                    "properties": {
                      "String": null
                    }
                  },
                  {
                    "type": "Eco.Gameplay.GameActions.SelectString",
                    "typeToConfig": "Eco.Gameplay.GameActions.ChatSent",
                    "propNameBacker": "Message",
                    "propDisplayName": "Message",
                    "properties": {
                      "String": "!salestax"
                    }
                  }
                ]
              }
            }
          ],
          "IfThenBlocks": [
            {
              "type": "Eco.Gameplay.Civics.IfThenBlock",
              "reference": false,
              "properties": {
                "If": {
                  "type": "Eco.Gameplay.Civics.GameValues.SetOfConditions",
                  "properties": {
                    "List": [],
                    "Comparison": "All"
                  }
                },
                "Then": [
                  {
                    "type": "Eco.Gameplay.Civics.SendNotice",
                    "reference": false,
                    "properties": {
                      "Message": "sales tax total:",
                      "NotificationType": "SideBarMessage",
                      "PeopleToSendTo": {
                        "type": "GameValueContext",
                        "contextName": "Citizen",
                        "titleBacking": "<ecoicon item=\"User\">Citizen</ecoicon>",
                        "tooltip": "When triggered, the <ecoicon item=\"User\">Citizen</ecoicon> value of the event will be used.\r\n\r\n<ecoicon item=\"User\">Citizen</ecoicon>: The citizen who performed the interaction.\r\n"
                      },
                      "ValueToDisplay": {
                        "type": "Eco.Gameplay.Civics.GameValues.CustomStatQuery",
                        "properties": {
                          "CustomStatName": "paidSalesTax",
                          "TimeRangeInHours": {
                            "type": "GameValueWrapper",
                            "value": 0.0
                          },
                          "TimeRangeType": "CountBackFromPresentTime",
                          "User": {
                            "type": "GameValueContext",
                            "contextName": "Citizen",
                            "titleBacking": "<ecoicon item=\"User\">Citizen</ecoicon>",
                            "tooltip": "When triggered, the <ecoicon item=\"User\">Citizen</ecoicon> value of the event will be used.\r\n\r\n<ecoicon item=\"User\">Citizen</ecoicon>: The citizen who performed the interaction.\r\n"
                          }
                        }
                      },
                      "LocationToDisplay": null,
                      "InfoboxOnSuccess": {
                        "type": "Eco.Gameplay.Civics.GameValues.No",
                        "properties": {}
                      }
                    }
                  },
                  {
                    "type": "Eco.Gameplay.Civics.SendNotice",
                    "reference": false,
                    "properties": {
                      "Message": "sales tax in the last 24h",
                      "NotificationType": "SideBarMessage",
                      "PeopleToSendTo": {
                        "type": "GameValueContext",
                        "contextName": "Citizen",
                        "titleBacking": "<ecoicon item=\"User\">Citizen</ecoicon>",
                        "tooltip": "When triggered, the <ecoicon item=\"User\">Citizen</ecoicon> value of the event will be used.\r\n\r\n<ecoicon item=\"User\">Citizen</ecoicon>: The citizen who performed the interaction.\r\n"
                      },
                      "ValueToDisplay": {
                        "type": "Eco.Gameplay.Civics.GameValues.CustomStatQuery",
                        "properties": {
                          "CustomStatName": "paidSalesTax",
                          "TimeRangeInHours": {
                            "type": "GameValueWrapper",
                            "value": 24.0
                          },
                          "TimeRangeType": "CountBackFromPresentTime",
                          "User": {
                            "type": "GameValueContext",
                            "contextName": "Citizen",
                            "titleBacking": "<ecoicon item=\"User\">Citizen</ecoicon>",
                            "tooltip": "When triggered, the <ecoicon item=\"User\">Citizen</ecoicon> value of the event will be used.\r\n\r\n<ecoicon item=\"User\">Citizen</ecoicon>: The citizen who performed the interaction.\r\n"
                          }
                        }
                      },
                      "LocationToDisplay": null,
                      "InfoboxOnSuccess": {
                        "type": "Eco.Gameplay.Civics.GameValues.No",
                        "properties": {}
                      }
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  }
}